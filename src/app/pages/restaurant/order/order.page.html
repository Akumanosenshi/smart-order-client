<ion-header>
  <ion-toolbar>
    <ion-title>Commandes</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-list>

    <!-- ‚è≥ COMMANDES √Ä VENIR -->
    <ion-item color="light">
      <ion-label><strong>‚è≥ Commandes √† venir</strong></ion-label>
    </ion-item>

    <ng-container *ngFor="let order of futureOrders">
      <ion-item>
        <ion-grid>
          <ion-row class="ion-justify-content-between ion-align-items-center">
            <ion-col size="8">
              <div><strong>{{ order.userFirstname }} {{ order.userLastname }}</strong></div>
              <div>{{ formatDate(order.date) }} ‚Äî Total : {{ order.total | number:'1.2-2' }} ‚Ç¨</div>
              <div><strong>√âtat :</strong> {{ order.state }}</div>
            </ion-col>
            <ion-col size="4" class="ion-text-end">
              <ion-button size="small" color="primary" (click)="changeState(order)">
                ‚Üí
              </ion-button>
              <ion-button size="small" color="danger" (click)="cancelOrder(order)">
                <ion-icon slot="icon-only" name="close"></ion-icon>
              </ion-button>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item *ngFor="let meal of order.meals" lines="none">
        <ion-label>
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <span>{{ meal.emoji }} <strong>{{ meal.title }}</strong></span>
            <span><strong>{{ meal.price | number:'1.2-2' }} ‚Ç¨</strong></span>
          </div>
          <div style="padding-left: 1.5rem; color: #666;">{{ meal.description }}</div>
        </ion-label>
      </ion-item>
    </ng-container>

    <br><br>

    <!-- üìÖ COMMANDES PASS√âES -->
    <ion-item color="light">
      <ion-label><strong>üìÖ Commandes pass√©es</strong></ion-label>
    </ion-item>

    <ng-container *ngFor="let order of pastOrders">
      <ion-item>
        <ion-grid>
          <ion-row class="ion-justify-content-between ion-align-items-center">
            <ion-col size="12">
              <div><strong>{{ order.userFirstname }} {{ order.userLastname }}</strong></div>
              <div>{{ formatDate(order.date) }} ‚Äî Total : {{ order.total | number:'1.2-2' }} ‚Ç¨</div>
              <div><strong>√âtat :</strong> {{ order.state }}</div>
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-item>

      <ion-item *ngFor="let meal of order.meals" lines="none">
        <ion-label>
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <span>{{ meal.emoji }} <strong>{{ meal.title }}</strong></span>
            <span><strong>{{ meal.price | number:'1.2-2' }} ‚Ç¨</strong></span>
          </div>
          <div style="padding-left: 1.5rem; color: #666;">{{ meal.description }}</div>
        </ion-label>
      </ion-item>
    </ng-container>

  </ion-list>
</ion-content>
