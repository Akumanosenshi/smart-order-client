<ion-header>
  <ion-toolbar>
    <ion-title>Commandes</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="ion-padding">
  <ion-list>
    <!-- COMMANDES √Ä VENIR -->
    <ion-item>
      <ion-label><strong>‚è≥ Commandes √† venir</strong></ion-label>
    </ion-item>

    <ng-container *ngFor="let order of futureOrders">
      <ion-item>
        <ion-label>
          <div>{{ order.user.firstname }}</div>
          <div>{{ formatDate(order.date) }} ‚Äî Total : {{ order.total | number:'1.2-2' }} ‚Ç¨</div>
          <div><strong>√âtat : {{ order.state }}</strong></div>
        </ion-label>

        <ion-buttons slot="end">
          <ion-button color="primary" (click)="changeState(order)">
            ‚Üí
          </ion-button>
          <ion-button color="danger" (click)="cancelOrder(order)">
            <ion-icon name="close"></ion-icon>
          </ion-button>
        </ion-buttons>
      </ion-item>

      <ion-item *ngFor="let meal of order.meals" lines="none">
        <ion-label>
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <span>{{ meal.emoji }} {{ meal.title }}</span>
            <span>{{ meal.price | number:'1.2-2' }} ‚Ç¨</span>
          </div>
          <div style="padding-left: 1.5rem; color: #666;">{{ meal.description }}</div>
        </ion-label>
      </ion-item>
    </ng-container>

    <br><br>

    <!-- COMMANDES PASS√âES -->
    <ion-item>
      <ion-label><strong>üìÖ Commandes pass√©es</strong></ion-label>
    </ion-item>

    <ng-container *ngFor="let order of pastOrders">
      <ion-item>
        <ion-label>
          <div>{{ order.user.firstname }}</div>
          <div>{{ formatDate(order.date) }} ‚Äî Total : {{ order.total | number:'1.2-2' }} ‚Ç¨</div>
          <div><strong>√âtat : {{ order.state }}</strong></div>
        </ion-label>
      </ion-item>

      <ion-item *ngFor="let meal of order.meals" lines="none">
        <ion-label>
          <div style="display: flex; justify-content: space-between; align-items: center;">
            <span>{{ meal.emoji }} {{ meal.title }}</span>
            <span><strong>{{ meal.price | number:'1.2-2' }} ‚Ç¨</strong></span>
          </div>
          <div style="padding-left: 1.5rem; color: #666;">{{ meal.description }}</div>
        </ion-label>
      </ion-item>
    </ng-container>
  </ion-list>
</ion-content>
